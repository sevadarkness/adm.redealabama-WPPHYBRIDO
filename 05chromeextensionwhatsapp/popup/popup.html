<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsHybrid Lite - CRM Quantum</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="wrap">
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <!-- POPUP PRINCIPAL -->
    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div id="screenMain" class="screen active">
      <div class="app">
        <!-- Header -->
        <header class="header">
          <div class="header-left">
            <span class="logo">ü§ñ</span>
            <div class="brand">
              <h1 class="brand-name">WhatsHybrid Lite</h1>
              <span class="brand-subtitle">CRM Quantum ‚Ä¢ Atendimento Inteligente</span>
            </div>
          </div>
          <div class="header-right">
            <div class="header-field" id="licenseFieldContainer">
              <span class="field-icon">üîê</span>
              <input type="password" id="headerLicenseKey" class="header-input" placeholder="Licen√ßa" autocomplete="off">
            </div>
            <div class="header-field hidden" id="apiKeyFieldContainer">
              <span class="field-icon">üîë</span>
              <input type="password" id="headerApiKey" class="header-input" placeholder="API Key" autocomplete="off">
            </div>
          </div>
        </header>

        <!-- Navigation Bar -->
        <nav class="navbar">
          <button class="nav-btn active" data-tab="config">
            <span class="nav-icon">‚öôÔ∏è</span>
            <span class="nav-label">Config</span>
          </button>
          <button class="nav-btn" data-tab="quick">
            <span class="nav-icon">‚ö°</span>
            <span class="nav-label">R√°pidas</span>
          </button>
          <button class="nav-btn" data-tab="team">
            <span class="nav-icon">üë•</span>
            <span class="nav-label">Equipe</span>
          </button>
          <button class="nav-btn" data-tab="copilot">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">Copilot</span>
          </button>
          <button class="nav-btn" data-tab="ia">
            <span class="nav-icon">üß†</span>
            <span class="nav-label">IA</span>
          </button>
          <button class="nav-btn" data-tab="camp">
            <span class="nav-icon">üì¢</span>
            <span class="nav-label">Camp</span>
          </button>
          <button class="nav-btn" data-tab="cont">
            <span class="nav-icon">üìá</span>
            <span class="nav-label">Cont</span>
          </button>
        </nav>

        <!-- Content Sections (Accordion Style) -->
        <main class="content">
          <!-- Config Section -->
          <section class="section active" data-section="config">
            <div class="accordion">
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>üìù Persona do Chatbot</span>
                  <span class="accordion-icon">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <textarea id="persona" placeholder="Defina a personalidade do chatbot..."></textarea>
                </div>
              </div>
              
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>üè¢ Contexto do Neg√≥cio</span>
                  <span class="accordion-icon">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <textarea id="businessContext" placeholder="Descreva seu neg√≥cio..."></textarea>
                </div>
              </div>
              
              <div class="accordion-item">
                <button class="accordion-header">
                  <span>üîß Op√ß√µes Avan√ßadas</span>
                  <span class="accordion-icon">‚ñº</span>
                </button>
                <div class="accordion-content">
                  <div class="checkbox-group">
                    <label class="checkbox">
                      <input type="checkbox" id="autoSuggest">
                      <span>Auto-sugest√£o</span>
                    </label>
                    <label class="checkbox">
                      <input type="checkbox" id="autoMemory">
                      <span>Auto-mem√≥ria</span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
            
            <button class="btn btn-primary btn-full" id="saveConfig">
              üíæ Salvar Configura√ß√µes
            </button>
          </section>

          <!-- Quick Replies Section -->
          <section class="section" data-section="quick">
            <div class="quick-replies-list" id="quickRepliesList">
              <!-- Items din√¢micos -->
            </div>
            
            <div class="accordion-item">
              <button class="accordion-header">
                <span>‚ûï Nova Mensagem R√°pida</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Gatilho (ex: oi, preco, horario)</label>
                  <input type="text" id="newTrigger" placeholder="/gatilho">
                </div>
                <div class="form-group">
                  <label>Resposta</label>
                  <textarea id="newResponse" placeholder="Texto da resposta..."></textarea>
                </div>
                <button class="btn btn-primary" id="addQuickReply">
                  ‚ûï Adicionar
                </button>
              </div>
            </div>
          </section>

          <!-- Team Section -->
          <section class="section" data-section="team">
            <div class="form-group">
              <label>üìù Nome do Remetente (Empresa)</label>
              <input type="text" id="senderName" placeholder="Ex: Rede Alabama">
              <p class="hint">Aparece como legenda na notifica√ß√£o do WhatsApp</p>
            </div>
            
            <div class="team-list" id="teamList">
              <!-- Items din√¢micos -->
            </div>
            
            <div class="accordion-item">
              <button class="accordion-header">
                <span>‚ûï Novo Membro</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Nome</label>
                  <input type="text" id="memberName" placeholder="Nome do membro">
                </div>
                <div class="form-group">
                  <label>Telefone (com DDI)</label>
                  <input type="text" id="memberPhone" placeholder="+5511999999999">
                </div>
                <button class="btn btn-primary" id="addMember">
                  ‚ûï Adicionar
                </button>
              </div>
            </div>
            
            <div class="divider"></div>
            
            <div class="form-group">
              <label>Mensagem para Equipe</label>
              <textarea id="teamMessage" placeholder="Digite a mensagem..."></textarea>
            </div>
            
            <button class="btn btn-primary btn-full" id="sendToTeam">
              üì§ Enviar para Selecionados
            </button>
            
            <p class="hint" id="teamMessagePreview"></p>
          </section>

          <!-- Copilot Section -->
          <section class="section" data-section="copilot">
            <div class="copilot-status">
              <div class="status-card">
                <span class="status-label">Score de Confian√ßa</span>
                <span class="status-value" id="confidenceScore">--</span>
              </div>
              <div class="status-card">
                <span class="status-label">Modo</span>
                <span class="status-value" id="copilotMode">Assistido</span>
              </div>
            </div>
            
            <div class="accordion-item">
              <button class="accordion-header">
                <span>‚öôÔ∏è Configura√ß√µes</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="copilot-toggle">
                  <label class="switch">
                    <input type="checkbox" id="copilotEnabled">
                    <span class="slider"></span>
                  </label>
                  <span id="copilotStatusText">Modo Copiloto Desativado</span>
                </div>
                
                <div class="copilot-threshold-control">
                  <label>Meta para ativa√ß√£o autom√°tica:</label>
                  <div class="row">
                    <input type="range" id="copilotThreshold" min="50" max="95" value="70" step="5">
                    <span id="thresholdValue">70%</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìà Estat√≠sticas</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="stats-grid">
                  <div class="stat-item">
                    <span class="stat-value" id="statGood">0</span>
                    <span class="stat-label">Boas</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-value" id="statBad">0</span>
                    <span class="stat-label">Ruins</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-value" id="statCorrections">0</span>
                    <span class="stat-label">Corre√ß√µes</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-value" id="statAutoSent">0</span>
                    <span class="stat-label">Auto-envios</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- IA Section (Training) -->
          <section class="section" data-section="ia">
            <!-- Dados do Neg√≥cio -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üè¢ Dados do Neg√≥cio</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Nome da Empresa</label>
                  <input type="text" id="businessName" placeholder="Ex: Minha Empresa">
                </div>
                <div class="form-group">
                  <label>Descri√ß√£o</label>
                  <textarea id="businessDescription" placeholder="Descreva seu neg√≥cio..."></textarea>
                </div>
                <div class="form-group">
                  <label>Segmento</label>
                  <input type="text" id="businessSegment" placeholder="Ex: E-commerce, Servi√ßos...">
                </div>
                <div class="form-group">
                  <label>Hor√°rio de Funcionamento</label>
                  <input type="text" id="businessHours" placeholder="Ex: Seg-Sex 9h-18h">
                </div>
              </div>
            </div>

            <!-- Produtos/Servi√ßos -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üì¶ Produtos/Servi√ßos</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="productsList" class="items-list"></div>
                <div class="add-item-form">
                  <input type="text" id="productName" placeholder="Nome do produto">
                  <input type="text" id="productPrice" placeholder="Pre√ßo">
                  <textarea id="productDescription" placeholder="Descri√ß√£o"></textarea>
                  <button class="btn btn-primary" id="addProduct">‚ûï Adicionar Produto</button>
                </div>
              </div>
            </div>

            <!-- FAQ -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>‚ùì FAQ (Perguntas Frequentes)</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="faqList" class="items-list"></div>
                <div class="add-item-form">
                  <input type="text" id="faqQuestion" placeholder="Pergunta">
                  <textarea id="faqAnswer" placeholder="Resposta"></textarea>
                  <button class="btn btn-primary" id="addFaq">‚ûï Adicionar FAQ</button>
                </div>
              </div>
            </div>

            <!-- Pol√≠ticas -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìã Pol√≠ticas</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Formas de Pagamento</label>
                  <textarea id="policyPayment" placeholder="PIX, Cart√£o, Boleto..."></textarea>
                </div>
                <div class="form-group">
                  <label>Pol√≠tica de Entrega</label>
                  <textarea id="policyDelivery" placeholder="Prazos, frete gr√°tis..."></textarea>
                </div>
                <div class="form-group">
                  <label>Pol√≠tica de Devolu√ß√£o</label>
                  <textarea id="policyReturns" placeholder="Prazo para troca, condi√ß√µes..."></textarea>
                </div>
              </div>
            </div>

            <!-- Tom de Voz -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üé≠ Tom de Voz</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Estilo de Comunica√ß√£o</label>
                  <select id="toneStyle">
                    <option value="formal">Formal</option>
                    <option value="informal" selected>Informal</option>
                    <option value="friendly">Amig√°vel</option>
                    <option value="professional">Profissional</option>
                  </select>
                </div>
                <div class="checkbox-group">
                  <label class="checkbox">
                    <input type="checkbox" id="toneEmojis" checked>
                    <span>Usar emojis nas respostas</span>
                  </label>
                </div>
                <div class="form-group">
                  <label>Sauda√ß√£o Padr√£o</label>
                  <input type="text" id="toneGreeting" placeholder="Ex: Ol√°! Tudo bem?">
                </div>
                <div class="form-group">
                  <label>Despedida Padr√£o</label>
                  <input type="text" id="toneClosing" placeholder="Ex: Qualquer d√∫vida, estou √† disposi√ß√£o!">
                </div>
              </div>
            </div>

            <!-- Documentos -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìÑ Documentos</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="documentsList" class="items-list"></div>
                <div class="form-group">
                  <label>Adicionar Documento (texto)</label>
                  <input type="text" id="docTitle" placeholder="T√≠tulo do documento">
                  <textarea id="docContent" placeholder="Conte√∫do do documento..."></textarea>
                  <button class="btn btn-primary" id="addDocument">üìÑ Adicionar Documento</button>
                </div>
              </div>
            </div>

            <!-- Respostas Prontas -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üí¨ Respostas Prontas (Canned)</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="cannedList" class="items-list"></div>
                <div class="add-item-form">
                  <input type="text" id="cannedTitle" placeholder="T√≠tulo/Categoria">
                  <textarea id="cannedContent" placeholder="Texto da resposta..."></textarea>
                  <button class="btn btn-primary" id="addCanned">üí¨ Adicionar Resposta</button>
                </div>
              </div>
            </div>

            <!-- Bot√µes de a√ß√£o -->
            <div class="action-buttons">
              <button class="btn btn-primary btn-full" id="saveKnowledge">
                üíæ Salvar Conhecimento
              </button>
              <button class="btn btn-secondary" id="syncKnowledge">
                üîÑ Sincronizar com Servidor
              </button>
            </div>
          </section>

          <!-- Campanhas Section -->
          <section class="section" data-section="camp">
            <!-- Nova Campanha -->
            <div class="accordion-item open">
              <button class="accordion-header">
                <span>‚ûï Nova Campanha</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Nome da Campanha</label>
                  <input type="text" id="campaignName" placeholder="Ex: Black Friday 2024">
                </div>
                <div class="form-group">
                  <label>Mensagem</label>
                  <textarea id="campaignMessage" placeholder="Digite a mensagem da campanha..." rows="4"></textarea>
                </div>
                <div class="form-group">
                  <label>Anexar Imagem (URL)</label>
                  <input type="text" id="campaignImage" placeholder="https://...">
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <label>üìÖ Data</label>
                    <input type="date" id="campaignDate">
                  </div>
                  <div class="form-group">
                    <label>‚è∞ Hora</label>
                    <input type="time" id="campaignTime">
                  </div>
                </div>
                <div class="form-group">
                  <label>Intervalo entre envios (segundos)</label>
                  <input type="number" id="campaignInterval" value="5" min="1" max="60">
                </div>
                <div class="form-group">
                  <label>Selecionar Contatos</label>
                  <div class="contact-selector" id="campaignContacts">
                    <p class="empty-state">Nenhum contato. V√° em "Contatos" para extrair.</p>
                  </div>
                </div>
                <button class="btn btn-primary btn-full" id="startCampaign">
                  üöÄ Iniciar Campanha
                </button>
                <button class="btn btn-secondary btn-full" id="scheduleCampaign">
                  ‚è∞ Agendar Campanha
                </button>
              </div>
            </div>

            <!-- Campanhas Ativas -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìä Campanhas Ativas</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="activeCampaigns" class="campaigns-list">
                  <p class="empty-state">Nenhuma campanha ativa</p>
                </div>
              </div>
            </div>

            <!-- Hist√≥rico -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìú Hist√≥rico de Campanhas</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div id="campaignHistory" class="campaigns-list">
                  <p class="empty-state">Nenhuma campanha realizada</p>
                </div>
              </div>
            </div>
          </section>

          <!-- Contatos Section -->
          <section class="section" data-section="cont">
            <!-- Extrair Contatos -->
            <div class="accordion-item open">
              <button class="accordion-header">
                <span>üì• Extrair Contatos</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="extraction-options">
                  <button class="btn btn-primary" id="extractFromChats">
                    üí¨ Extrair das Conversas
                  </button>
                  <button class="btn btn-secondary" id="extractFromGroups">
                    üë• Extrair de Grupos
                  </button>
                </div>
                <div class="extraction-status" id="extractionStatus">
                  <span class="status-icon">üìä</span>
                  <span class="status-text">Total: <strong id="totalContacts">0</strong> contatos</span>
                </div>
              </div>
            </div>

            <!-- Lista de Contatos -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üìã Lista de Contatos</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="search-box">
                  <input type="text" id="searchContacts" placeholder="üîç Buscar contato...">
                </div>
                <div id="contactsList" class="contacts-list">
                  <p class="empty-state">Nenhum contato extra√≠do</p>
                </div>
              </div>
            </div>

            <!-- Importar/Exportar -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>üì§ Importar / Exportar</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="import-export-buttons">
                  <button class="btn btn-primary" id="exportContacts">
                    üì§ Exportar CSV
                  </button>
                  <button class="btn btn-secondary" id="importContacts">
                    üì• Importar CSV
                  </button>
                  <input type="file" id="importFile" accept=".csv" style="display: none;">
                </div>
              </div>
            </div>

            <!-- Adicionar Manual -->
            <div class="accordion-item">
              <button class="accordion-header">
                <span>‚ûï Adicionar Contato Manual</span>
                <span class="accordion-icon">‚ñº</span>
              </button>
              <div class="accordion-content">
                <div class="form-group">
                  <label>Nome</label>
                  <input type="text" id="manualContactName" placeholder="Nome do contato">
                </div>
                <div class="form-group">
                  <label>Telefone (com DDI)</label>
                  <input type="text" id="manualContactPhone" placeholder="+5511999999999">
                </div>
                <div class="form-group">
                  <label>Tags/Grupo</label>
                  <input type="text" id="manualContactTags" placeholder="Ex: cliente, vip, lead">
                </div>
                <button class="btn btn-primary" id="addManualContact">
                  ‚ûï Adicionar Contato
                </button>
              </div>
            </div>
          </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
          <span class="footer-text">üîÑ <span id="statusIndicator">Online</span> ‚Ä¢ v1.0.0</span>
          <span class="footer-text" id="lastSync">√öltima sync: --</span>
        </footer>
      </div>
    </div><!-- End screenMain -->

  </div><!-- End wrap -->

  <script src="popup.js"></script>
</body>
</html>
